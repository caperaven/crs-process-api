import"./../../expressions/code-factories/inflation.js";class d{async parse(t,n){const e=t.getAttribute("for").split(" "),a=crs.binding.utils.markElement(t.parentElement,n);t.parentElement.__path=e[2],t.parentElement.removeChild(t);const i=await crs.binding.expression.inflationFactory(t,e[0]);crs.binding.inflation.store.add(a,t,i),crs.binding.data.setCallback(a,n.bid,[e[2]],"template[for]")}async update(t){const n=crs.binding.elements[t],r=n.__path,e=crs.binding.data.getDataForElement(n),a=crs.binding.utils.getValueOnPath(e,r);if(a==null)return;const i=crs.binding.inflation.store.get(t),o=document.createDocumentFragment();for(const c of a){const s=i.template.content.cloneNode(!0).firstElementChild;i.fn(s,c),o.appendChild(s)}n.appendChild(o)}}export{d as default};
